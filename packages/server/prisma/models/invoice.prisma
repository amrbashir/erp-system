enum InvoiceType {
  INVOICE
  REFUND
}

model Invoice {
  schemaVersion Int // version of the schema for migration

  id String @id @default(auto()) @map("_id") @db.ObjectId

  type InvoiceType

  customer      String?
  customerPhone String?

  items InvoiceItem[]
  total Int

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  cashier   User   @relation(fields: [cashierId], references: [id])
  cashierId String @db.ObjectId

  transaction   Transaction @relation(fields: [transactionId], references: [id])
  transactionId String      @unique @db.ObjectId

  organization   Organization? @relation(fields: [organizationId], references: [id])
  organizationId String?       @db.ObjectId
}

type InvoiceItem {
  schemaVersion Int // version of the schema for migration

  description String
  price       Int
  quantity    Int
}
