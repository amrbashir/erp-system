enum InvoiceType {
  INVOICE
  REFUND
}

model Invoice {
  id            String @id @default(auto()) @map("_id") @db.ObjectId
  schemaVersion Int // version of the schema for migration
  revision      Int    @default(1) // revision number for history tracking

  type InvoiceType

  customer      String?
  customerPhone String?

  items InvoiceItem[]
  total Int

  cashier   User   @relation(fields: [cashierId], references: [id])
  cashierId String @db.ObjectId

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  transaction   Transaction @relation(fields: [transactionId], references: [id])
  transactionId String      @unique @db.ObjectId
}

type InvoiceItem {
  schemaVersion Int // version of the schema for migration

  description String
  price       Int
  quantity    Int
}
