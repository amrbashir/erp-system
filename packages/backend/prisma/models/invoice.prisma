model Invoice {
  id Int @id @default(autoincrement())

  type InvoiceType @default(SALE)

  items           InvoiceItem[]
  subtotal        Decimal       @db.Decimal(20, 4)
  discountPercent Int           @default(0)
  discountAmount  Decimal       @default(0) @db.Decimal(20, 4)
  total           Decimal       @db.Decimal(20, 4)

  customer   Customer? @relation(fields: [customerId], references: [id])
  customerId Int?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  cashier   User   @relation(fields: [cashierId], references: [id])
  cashierId String

  transaction   Transaction @relation(fields: [transactionId], references: [id])
  transactionId Int         @unique

  organization   Organization @relation(fields: [organizationId], references: [id])
  organizationId String

  store   Store?  @relation(fields: [storeId], references: [id])
  storeId String?

  @@map("invoices")
}

enum InvoiceType {
  SALE
  PURCHASE
}
