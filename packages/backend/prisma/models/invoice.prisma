enum InvoiceType {
  INVOICE
  REFUND
}

model Invoice {
  schemaVersion Int // version of the schema for migration

  id String @id @default(auto()) @map("_id") @db.ObjectId

  type InvoiceType

  customer      String?
  customerPhone String?

  items InvoiceItem[]
  total Int

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  cashier   User   @relation(fields: [cashierId], references: [id])
  cashierId String @db.ObjectId

  transaction   Transaction @relation(fields: [transactionId], references: [id])
  transactionId String      @unique @db.ObjectId

  store   Store?  @relation(fields: [storeId], references: [id])
  storeId String? @db.ObjectId

  @@map("invoices")
}

type InvoiceItem {
  schemaVersion Int // version of the schema for migration

  description    String
  purchase_price Int
  selling_price  Int
  quantity       Int
}
